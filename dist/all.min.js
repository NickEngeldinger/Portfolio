function injectContent(e,a,t,n){var o=$.ajax({url:e}),l=$.ajax({url:a});$.when(o,l).done(function(e,a){var o=Handlebars.compile(e[0]),l=$.parseJSON(a[0]);$(t).html(o(l)),n&&n()})}function initCarousel(){for(var e=$("dt"),a=$("dd"),t=$(".page-controls"),n=0,o=0;o<e.length;o++)$(e[o]).addClass("page-"+o),$(a[o]).addClass("page-"+o),$(t[o]).addClass("pageNum-"+o);$(".page-"+n).css("left","0"),$(".page-number").html("1");var l=$(".solutions dt").length;$(".total-pages").html(l),$(".work-samples").animate({height:"800px"})}function moveCarousel(e){var a=[],t=$(".solutions dt").length,n=t-1,o=$(".page-controls");a=o.attr("class").split(" ");for(var l=0;l<a.length;l++){var s=a[l].slice(0,8);if("pageNum-"===s){var i=parseInt(a[l].slice(8,9)),r=i+1,m=i-1,p=$(".next"),c=$(".prev");$(".page-"+i).removeClass("show").addClass("hide"),o.removeClass("pageNum-"+i),"next"===e?($(".page-"+i).animate({left:"-2000px"},2e3),$(".page-"+r).animate({right:"0"},2e3),c.removeClass("hide"),r===n?p.addClass("hide"):p.removeClass("hide"),o.addClass("pageNum-"+r),$(".page-number").html(r+1)):"prev"===e&&($(".page-"+i).css("left","auto").animate({right:"-2000px"},2e3),$(".page-"+m).animate({left:"0"},2e3),p.removeClass("hide"),0===m?c.addClass("hide"):c.removeClass("hide"),o.addClass("pageNum-"+m),$(".page-number").html(m+1))}}}function showFullImg(e){var a=$("<div>"),t=$("<div>"),n=$("<a>"),o=$("<img>"),l=$(window).scrollTop();o.attr("src",e),n.addClass("modal-close").html("close").attr("href","#"),t.addClass("modal-body").append(n).append(o),a.height($(window).height()).addClass("modal-bg").css("top",l).append(t),$("body").append(a)}$(document).ready(function(){setTimeout(function(){$(".content").addClass("animate"),$("h1").addClass("animate")},250),setTimeout(function(){$("h1 cite").addClass("animate")},2e3),setTimeout(function(){$(".subtitle").typed({strings:["Handcrafting digital solutions in the Pacific Northwest"],typeSpeed:30,showCursor:!1})},3750)});var linkSource=$("#link-template").html(),linkTemplate=Handlebars.compile(linkSource),linkData={links:[{name:"screen",content:"My Work"},{name:"idea",content:"Who Am I?"},{name:"mail",content:"Contact Me"}]};$(".nav").html(linkTemplate(linkData)),$(".work-samples").on("click","img",function(e){var a=$(e.target).attr("src");showFullImg(a)}).on("click",".next",function(){moveCarousel("next")}).on("click",".prev",function(){moveCarousel("prev")}).on("click",".return-work",function(){$("html,body").animate({scrollTop:"1420px"},1e3,function(){$(".work-samples").animate({height:"0"},500,function(){$(".work-samples").empty()})})}),$("body").on("click",".modal-close",function(e){e.preventDefault(),$(".modal-bg").remove()}),$(".my-work").on("click","a",function(e){e.preventDefault();var a=$(e.target).attr("class"),t=$(".work-samples"),n="/templates/work-samples.handlebars",o="/data/"+a+".json";$(".work-samples").animate({height:"800px"},750,injectContent(n,o,t,initCarousel)),$("html,body").animate({scrollTop:"2050px"},1e3)}),$(".nav").on("click",".screen",function(e){e.preventDefault();var a=$(".my-work"),t="/templates/work.handlebars",n="/data/work.json";injectContent(t,n,a),$("html,body").animate({scrollTop:"1420px"},1500)});var tmplId=document.getElementById("work-template").innerHTML,tmpl=Handlebars.compile(tmplId),imgSrc="http://lorempixel.com/300/200",context={workSamples:[{title:"Motorvana",alt:"Motorvana.com redesign",src:imgSrc},{title:"Shattered Crystal",alt:"shatteredcrystal.com development",src:imgSrc}]},output=tmpl(context);document.getElementById("work-list").innerHTML=output;var workSlides=[{title:"Motorvana",pages:[{content:"A few paragraphs...",image:"img/some-image.jps",caption:"Some words"},{content:"More paragraphs",image:"img/some-image-related.jpg",caption:"Different words"},{content:"More paragraphs",image:"img/some-image-related.jpg",caption:"blah"}]},{title:"Dream Marriage",pages:[{content:"",image:"",caption:""},{content:"",image:"",caption:""}]}];